<div class="container">
  <div class="card mb-4">
    <h5 class="card-header">New Post</h5>
    <input
      type="search"
      class="form-control"
      [formControl]="searchControl"
      placeholder="Input keyword..."
    />
    <div class="card-body">
      <form (ngSubmit)="onSubmit()" [formGroup]="rfPost" class="row g-3">
        <div class="col">
          <label for="input-title" class="my-2">Title</label>
          <input
            type="text"
            id="input-title"
            class="form-control"
            placeholder="Title"
            formControlName="title"
            [ngClass]="{
              'is-invalid':
                rfPost.controls.title?.hasError('required') &&
                rfPost.controls.title?.touched,
              'is-valid': !rfPost.controls.title?.hasError('required')
            }"
          />
          <div
            *ngIf="
              rfPost.controls.title?.hasError('required') &&
              rfPost.controls.title?.touched
            "
            class="invalid-feedback"
          >
            Title is required!
          </div>
        </div>
        <div>
          <label for="input-short-description" class="my-2"
            >Short description</label
          >
          <input
            type="text"
            id="input-short-description"
            class="form-control"
            placeholder="Short description"
            formControlName="short_description"
            [ngClass]="{
              'is-invalid':
                rfPost.controls.short_description?.hasError('required') &&
                rfPost.controls.short_description?.touched,
              'is-valid':
                !rfPost.controls.short_description?.hasError('required')
            }"
          />
          <div
            *ngIf="
              rfPost.controls.short_description?.hasError('required') &&
              rfPost.controls.short_description?.touched
            "
            class="invalid-feedback"
          >
            Short description is required!
          </div>
        </div>
        <div>
          <label for="input-image" class="my-2">Image</label>
          <input
            type="file"
            class="form-control"
            formControlName="thumbnail"
            [ngClass]="{
              'is-invalid':
                rfPost.controls.thumbnail?.hasError('required') &&
                rfPost.controls.thumbnail?.touched,
              'is-valid': !rfPost.controls.thumbnail?.hasError('required')
            }"
          />
          <div
            *ngIf="
              rfPost.controls.thumbnail?.hasError('required') &&
              rfPost.controls.thumbnail?.touched
            "
            class="invalid-feedback"
          >
            Thumbnail is required!
          </div>
        </div>
        <div>
          <label for="input-content" class="my-2">Content</label>
          <textarea
            class="form-control"
            id="input-content"
            cols="30"
            rows="10"
            formControlName="content"
            [ngClass]="{
              'is-invalid':
                rfPost.controls.content?.hasError('required') &&
                rfPost.controls.content?.touched,
              'is-valid': !rfPost.controls.content?.hasError('required')
            }"
          ></textarea>
          <div
            *ngIf="
              rfPost.controls.content?.hasError('required') &&
              rfPost.controls.content?.touched
            "
            class="invalid-feedback"
          >
            Content is required!
          </div>
        </div>
        <div>
          <label class="my-2">Status</label>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              id="inlineRadio1"
              value="1"
              formControlName="status"
            />
            <label class="form-check-label" for="inlineRadio1">Active</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              id="inlineRadio2"
              value="0"
              formControlName="status"
            />
            <label class="form-check-label" for="inlineRadio2">Block</label>
          </div>
        </div>
        <div>
          <label for="inputState" class="my-2">Category</label>
          <select
            id="inputState"
            class="form-control"
            formControlName="category_id"
            [ngClass]="{
              'is-invalid':
                rfPost.controls.category_id?.hasError('invalidusername') &&
                rfPost.controls.category_id?.touched,
              'is-valid':
                !rfPost.controls.category_id?.hasError('invalidusername')
            }"
          >
            <option selected>Choose...</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
          </select>
          <div
            *ngIf="
              rfPost.controls.category_id?.hasError('invalidusername') &&
              rfPost.controls.category_id?.touched
            "
            class="invalid-feedback"
          >
            Category is required!
          </div>
        </div>
        <div class="form-group row my-3">
          <div class="text-end">
            <button
              type="submit"
              class="btn btn-primary"
              [ngClass]="{ disabled: rfPost.invalid }"
            >
              Submit
            </button>
          </div>
        </div>
        <pre>{{ this.rfPost.value | json }}</pre>
      </form>
    </div>
  </div>
</div>
